"use strict";(self["webpackChunkcnode"]=self["webpackChunkcnode"]||[]).push([[951],{4951:function(t,s,a){a.r(s),a.d(s,{default:function(){return h}});var e=function(){var t=this,s=t._self._c;return s("div",{staticClass:"caregory"},[s("ul",{staticClass:"lists"},t._l(t.lists,(function(a){return s("li",{key:a.id},[s("router-link",{attrs:{to:{name:"userDetails",params:{userName:a.author.loginname}}}},[s("span",{staticClass:"head"},[s("img",{attrs:{src:a.author.avatar_url,alt:""}})])]),s("router-link",{staticStyle:{width:"1150px","padding-left":"20px"},attrs:{to:{name:"details",params:{topicId:a.id}}}},[t._v(" "+t._s(a.title)+" "),s("span",[t._v(t._s(a.tab))])])],1)})),0)])},i=[];const n=function(){return document.documentElement.clientHeight},l=function(){return document.documentElement.scrollHeight},o=function(){return document.documentElement.scrollTop};var r={props:["tab","id"],data(){return{lists:[],loading:!0,page:1}},watch:{tab:{async handler(t){const s=await this.$http.get(`/topics?tab=${t||"all"}`);this.lists=s.data},immediate:!0}},methods:{async load(){if(this.lists.length){const t=Math.abs(o()-l()+n());if(t<=20&&this.loading){this.loading=!1,this.page++;const t=await this.$http.get(`/topics?tab=${this.tab?this.tab:"all"}&page=${this.page}`);this.lists=[...this.lists,...t.data],this.loading=!0}}}},mounted(){window.addEventListener("scroll",this.load)},destoryed(){window.removeEventListener("scroll",this.load)}},c=r,d=a(1001),u=(0,d.Z)(c,e,i,!1,null,null,null),h=u.exports}}]);
//# sourceMappingURL=951.72f2f17e.js.map