"use strict";(self["webpackChunkcnode"]=self["webpackChunkcnode"]||[]).push([[679],{6054:function(t,s,a){a.d(s,{Z:function(){return c}});var e=function(){var t=this,s=t._self._c;return s("div",{staticClass:"nav"},[s("div",{staticClass:"nav-inner"},[t._m(0),t._m(1),s("ul",{staticClass:"list"},[s("li",[s("router-link",{attrs:{to:"/"}},[t._v("首页")])],1),s("li",{on:{click:t.show}},[t._v("发布")]),s("li",[s("router-link",{attrs:{to:"/message/Unreadmessage"}},[t._v("消息"),s("span",{staticClass:"Unmessage"},[t._v(t._s(t.getcount))])])],1),s("li",[s("router-link",{attrs:{to:"/topic_collect/collect"}},[t._v("收藏")])],1),s("li",{directives:[{name:"show",rawName:"v-show",value:t.token,expression:"token"}]},[s("router-link",{attrs:{to:"/user/caobowen1224"}},[s("p",[t._v(t._s(t.token.loginname))])])],1),s("li",{directives:[{name:"show",rawName:"v-show",value:t.token,expression:"token"}]},[s("router-link",{attrs:{to:"/user/caobowen1224"}},[s("img",{staticClass:"img",attrs:{src:`${t.token.avatar_url}`,alt:""}})])],1),t.token?s("li",{on:{click:t.back}},[t._v("退出")]):s("li",[t._v("登录")])])])])},i=[function(){var t=this,s=t._self._c;return s("div",{staticClass:"logo"},[s("img",{attrs:{src:"https://static2.cnodejs.org/public/images/cnodejs_light.svg",alt:""}})])},function(){var t=this,s=t._self._c;return s("div",{staticClass:"search"},[s("input",{attrs:{type:"text"}})])}],r=(a(7658),{data(){return{token:null}},methods:{async back(){sessionStorage.removeItem("userInfo"),sessionStorage.removeItem("token"),await this.$router.push("/login")},show(){this.$store.commit("show")}},computed:{getcount(){return this.$store.state.count}},created(){this.token=sessionStorage.getItem("userInfo"),this.token=JSON.parse(this.token),this.$store.dispatch("getCount")}}),o=r,n=a(1001),l=(0,n.Z)(o,e,i,!1,null,null,null),c=l.exports},9679:function(t,s,a){a.r(s),a.d(s,{default:function(){return u}});var e=function(){var t=this,s=t._self._c;return t.data?s("div",{staticClass:"users"},[s("HeaderTop"),s("div",{staticClass:"userTop"},[s("div",{staticClass:"topbar"},[s("router-link",{attrs:{to:"/"}},[t._v("主页")]),t._v("/ "),s("span",{staticClass:"username"},[t._v(t._s(t.userName))])],1)]),s("div",{staticClass:"usermain"},[s("div",{staticClass:"userinfo"},[s("div",{staticClass:"userimg"},[s("img",{attrs:{src:t.data.avatar_url,alt:""}})]),s("span",{staticClass:"username"},[t._v(t._s(t.data.loginname))])]),s("div",{staticClass:"score"},[t._v(t._s(t.data.score)+" 积分")]),s("div",{staticClass:"firsttime"},[t._v("注册时间 "+t._s(t.firstTime)+" ")])]),s("div",{staticClass:"createtopic"},[s("div",{staticClass:"createTop"},[t._v("最近创建的话题")]),s("div",{staticClass:"createmain"},[s("ul",t._l(t.data.recent_topics,(function(a){return s("li",{key:a.id},[s("router-link",{attrs:{to:`/topic/${a.id}`}},[s("span",{staticClass:"createimg"},[s("img",{attrs:{src:a.author.avatar_url,alt:""}})]),s("span",{staticClass:"createtitle"},[t._v(t._s(a.title))]),s("span",{staticClass:"createtime"},[t._v(t._s(a.last_reply_at))])])],1)})),0)])]),s("div",{staticClass:"createtopic"},[s("div",{staticClass:"createTop"},[t._v("最近参与的话题")]),s("div",{staticClass:"createmain"},[s("ul",t._l(t.data.recent_replies,(function(a){return s("li",{key:a.id},[s("router-link",{attrs:{to:`/topic/${a.id}`}},[s("span",{staticClass:"createimg"},[s("img",{attrs:{src:a.author.avatar_url,alt:""}})]),s("span",{staticClass:"createtitle"},[t._v(t._s(a.title))]),s("span",{staticClass:"createtime"},[t._v(" "+t._s(a.last_reply_at))])])],1)})),0)])])],1):t._e()},i=[],r=a(6054),o={components:{HeaderTop:r.Z},props:["userName"],data(){return{data:[],firstTime:null}},async created(){const t=await this.$http.get(`/user/${this.userName}`);this.data=t.data,console.log(t.data),t.data.recent_replies.forEach((t=>{t.last_reply_at=this.$moment(`${t.last_reply_at}`,"YYYYMMDD").fromNow()})),t.data.recent_topics.forEach((t=>{t.last_reply_at=this.$moment(`${t.last_reply_at}`,"YYYYMMDD").fromNow()})),this.firstTime=this.$moment(`${t.data.create_at}`,"YYYYMMDD").fromNow()}},n=o,l=a(1001),c=(0,l.Z)(n,e,i,!1,null,null,null),u=c.exports}}]);
//# sourceMappingURL=679.7200eb13.js.map