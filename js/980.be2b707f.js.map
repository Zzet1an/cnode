{"version":3,"file":"js/980.be2b707f.js","mappings":"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","sources":["webpack://cnode/./src/components/HeaderTop.vue","webpack://cnode/src/components/HeaderTop.vue","webpack://cnode/./src/components/HeaderTop.vue?cd3b","webpack://cnode/./src/components/HeaderTop.vue?bd70","webpack://cnode/./src/views/DetailsView.vue","webpack://cnode/src/views/DetailsView.vue","webpack://cnode/./src/views/DetailsView.vue?ac55","webpack://cnode/./src/views/DetailsView.vue?22ee"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"nav\"},[_c('div',{staticClass:\"nav-inner\"},[_vm._m(0),_vm._m(1),_c('ul',{staticClass:\"list\"},[_c('li',[_c('router-link',{attrs:{\"to\":\"/\"}},[_vm._v(\"首页\")])],1),_c('li',{on:{\"click\":_vm.show}},[_vm._v(\"发布\")]),_c('li',[_c('router-link',{attrs:{\"to\":\"/message/Unreadmessage\"}},[_vm._v(\"消息\"),_c('span',{staticClass:\"Unmessage\"},[_vm._v(_vm._s(_vm.getcount))])])],1),_c('li',[_c('router-link',{attrs:{\"to\":\"/topic_collect/collect\"}},[_vm._v(\"收藏\")])],1),_c('li',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.token),expression:\"token\"}]},[_c('router-link',{attrs:{\"to\":\"/user/caobowen1224\"}},[_c('p',[_vm._v(_vm._s(_vm.token.loginname))])])],1),_c('li',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.token),expression:\"token\"}]},[_c('router-link',{attrs:{\"to\":\"/user/caobowen1224\"}},[_c('img',{staticClass:\"img\",attrs:{\"src\":`${_vm.token.avatar_url}`,\"alt\":\"\"}})])],1),(!_vm.token)?_c('li',[_vm._v(\"登录\")]):_c('li',{on:{\"click\":_vm.back}},[_vm._v(\"退出\")])])])])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"logo\"},[_c('img',{attrs:{\"src\":\"https://static2.cnodejs.org/public/images/cnodejs_light.svg\",\"alt\":\"\"}})])\n},function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"search\"},[_c('input',{attrs:{\"type\":\"text\"}})])\n}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"nav\">\r\n    <div class=\"nav-inner\">\r\n      <div class=\"logo\">\r\n        <img src=\"https://static2.cnodejs.org/public/images/cnodejs_light.svg\" alt=\"\" />\r\n      </div>\r\n      <div class=\"search\">\r\n        <input type=\"text\" />\r\n      </div>\r\n      <ul class=\"list\">\r\n        <li><router-link to=\"/\">首页</router-link></li>\r\n        <li @click=\"show\">发布</li>\r\n        <li><router-link to=\"/message/Unreadmessage\">消息<span class=\"Unmessage\">{{ getcount }}</span></router-link></li>\r\n        <li><router-link to=\"/topic_collect/collect\">收藏</router-link></li>\r\n        <li v-show=\"token\">\r\n          <router-link to=\"/user/caobowen1224\">\r\n            <p>{{ token.loginname }}</p>\r\n          </router-link>\r\n        </li>\r\n\r\n        <li v-show=\"token\"><router-link to=\"/user/caobowen1224\"><img class=\"img\" :src='`${token.avatar_url}`'\r\n              alt=\"\"></router-link></li>\r\n        <li v-if=\"!token\">登录</li>\r\n        <li v-else @click=\"back\">退出</li>\r\n      </ul>\r\n    </div>\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\n\r\nexport default {\r\n\r\n  data() {\r\n    return {\r\n      token: null,\r\n    };\r\n  },\r\n  methods: {\r\n    async back() {\r\n      sessionStorage.removeItem(\"userInfo\");\r\n      sessionStorage.removeItem(\"token\");\r\n      await this.$router.push(\"/login\");\r\n    },\r\n    show() {\r\n      this.$store.commit('show')\r\n    }\r\n  },\r\n  computed:{\r\n   getcount(){\r\n    return this.$store.state.count\r\n   }\r\n  },\r\n   created() {\r\n    this.token = sessionStorage.getItem(\"userInfo\");\r\n    this.token = JSON.parse(this.token);\r\n    this.$store.dispatch('getCount')\r\n  },\r\n\r\n};\r\n</script>\r\n\r\n<style>\r\n.nav {\r\n  width: 100%;\r\n  background-color: #444;\r\n  font-size: 13px;\r\n}\r\n\r\n.nav-inner {\r\n  width: 1400px;\r\n  margin: 0 auto;\r\n  display: flex;\r\n  align-items: center;\r\n  font-size: 0;\r\n}\r\n\r\n.nav-inner .logo {\r\n  width: 120px;\r\n}\r\n\r\n.nav-inner .logo img {\r\n  vertical-align: middle;\r\n}\r\n\r\n.nav-inner .search input {\r\n  width: 206px;\r\n  padding-left: 24px;\r\n  outline: none;\r\n  line-height: 26px;\r\n  margin-left: 20px;\r\n  border-radius: 20px;\r\n  border: 0;\r\n  transition: all 0.5s;\r\n  background: url(\"https://static2.cnodejs.org/public/images/search.e53b380a.hashed.png\");\r\n  background-repeat: no-repeat;\r\n  background-position: 3px center;\r\n  background-color: #fff;\r\n}\r\n\r\n.nav-inner .search input:hover {\r\n  background-color: #fff;\r\n}\r\n\r\n.nav-inner ul {\r\n  display: flex;\r\n  margin-left: auto;\r\n}\r\n\r\n.nav-inner ul li {\r\n  font-size: 13px;\r\n  color: rgb(204, 204, 204);\r\n  cursor: pointer;\r\n  margin-left: 15px;\r\n  margin-right: 15px;\r\n  line-height: 50px;\r\n}\r\n\r\n.nav-inner ul li a {\r\n  color: rgb(204, 204, 204);\r\n  text-decoration: none;\r\n}\r\n\r\n.nav-inner ul li a .Unmessage {\r\n  display: inline-block;\r\n  line-height: 15px;\r\n  background-color: greenyellow;\r\n  color: #fff;\r\n  font-size: 12px;\r\n  text-align: center;\r\n  border-radius: 50%;\r\n  vertical-align: super;\r\n  padding: 2px 5px;\r\n}\r\n\r\n.nav-inner ul li a:hover {\r\n  color: #fff;\r\n  text-decoration: none;\r\n}\r\n\r\n.nav-inner ul li:hover {\r\n  color: #fff;\r\n}\r\n\r\n.img {\r\n  width: 20px;\r\n  vertical-align: middle;\r\n\r\n}\r\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./HeaderTop.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./HeaderTop.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./HeaderTop.vue?vue&type=template&id=45ef58b2&\"\nimport script from \"./HeaderTop.vue?vue&type=script&lang=js&\"\nexport * from \"./HeaderTop.vue?vue&type=script&lang=js&\"\nimport style0 from \"./HeaderTop.vue?vue&type=style&index=0&id=45ef58b2&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('header-top'),(_vm.info)?_c('div',{staticClass:\"article\"},[_c('div',{staticClass:\"title\",domProps:{\"innerHTML\":_vm._s(_vm.info.title)}}),_c('div',{staticClass:\"change\"},[_c('span',[_vm._v(\"发布于\"+_vm._s(_vm.date))]),_c('span',[_vm._v(\"作者\"+_vm._s(_vm.info.author.loginname))]),_c('span',[_vm._v(_vm._s(_vm.info.visit_count)+\"次浏览\")]),_c('span',[_vm._v(\"来自\"+_vm._s(_vm.info.tab))]),(!_vm.isCollect)?_c('el-button',{on:{\"click\":_vm.handlercollect}},[_vm._v(\"收藏主题\")]):_c('el-button',{attrs:{\"type\":\"success\"},on:{\"click\":_vm.Uncollect}},[_vm._v(\"取消收藏\")])],1),_c('hr'),_c('div',{domProps:{\"innerHTML\":_vm._s(_vm.info.content)}})]):_vm._e(),(_vm.rely)?_c('div',{staticClass:\"panel\"},[(_vm.rely)?_c('div',{staticClass:\"header\"},[_vm._v(_vm._s(_vm.rely.length)+\" 回复 \"),_c('span',{staticClass:\"comment\",on:{\"click\":_vm.showComment}},[_vm._v(\" 评论\")])]):_vm._e(),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.Comment),expression:\"Comment\"}],staticClass:\"showComment\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.comtext),expression:\"comtext\"}],attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.comtext)},on:{\"input\":function($event){if($event.target.composing)return;_vm.comtext=$event.target.value}}}),(!_vm.relyComment1)?_c('el-button',{on:{\"click\":_vm.successComment}},[_vm._v(\"确定\")]):_c('el-button',{on:{\"click\":_vm.rely_comment}},[_vm._v(\"回复评论\")]),_c('el-button',{on:{\"click\":_vm.close}},[_vm._v(\"关闭\")])],1),_vm._l((_vm.rely),function(item,index){return _c('div',{key:item.id,staticClass:\"reply\"},[_c('div',{staticClass:\"head\"},[_c('img',{attrs:{\"src\":item.author.avatar_url,\"alt\":\"\"}})]),_c('div',{staticClass:\"name\"},[_vm._v(_vm._s(item.author.loginname)),_c('span',{staticClass:\"floor\",staticStyle:{\"margin-left\":\"10px\",\"color\":\"blue\"}},[_vm._v(_vm._s((index+1))+\"楼\")]),_c('span',[_vm._v(\" - \")]),_c('span',{staticStyle:{\"margin-left\":\"5px\",\"color\":\"blue\"}},[_vm._v(_vm._s(item.create_at))]),_c('span',{staticClass:\"reply_comment\",on:{\"click\":_vm.relyComment}},[_vm._v(\"回复评论\")]),_c('div',{staticClass:\"up\"},[_c('span',{staticClass:\"iconfont icon-dianzan1\",on:{\"click\":function($event){return _vm.uptopic(item.id)}}}),_c('span',[_vm._v(_vm._s(item.ups.length))])])]),_c('div',{staticClass:\"content\",domProps:{\"innerHTML\":_vm._s(item.content)}})])})],2):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <header-top />\r\n    <div v-if=\"info\" class=\"article\">\r\n      <div class=\"title\" v-html=\"info.title\"></div>\r\n      <div class=\"change\">\r\n        <span>发布于{{ date }}</span>\r\n        <span>作者{{ info.author.loginname }}</span>\r\n        <span>{{ info.visit_count }}次浏览</span>\r\n        <span>来自{{ info.tab }}</span>\r\n        <el-button v-if=\"!isCollect\"   @click=\"handlercollect\"  >收藏主题</el-button>\r\n        <el-button v-else  type=\"success\" @click=\"Uncollect\" >取消收藏</el-button>\r\n      </div>\r\n      <hr />\r\n\r\n      <div v-html=\"info.content\"></div>\r\n    </div>\r\n    <div v-if=\"rely\" class=\"panel\">\r\n      <div class=\"header\" v-if=\"rely\">{{ rely.length }} 回复 <span class=\"comment\" @click=\"showComment\"> 评论</span>\r\n      </div>\r\n      <div v-show=\"Comment\" class=\"showComment\">\r\n        <input type=\"text\" v-model=\"comtext\">\r\n        <el-button v-if=\"!relyComment1\" @click=\"successComment\">确定</el-button>\r\n        <el-button v-else @click=\"rely_comment\">回复评论</el-button>\r\n        <el-button @click=\"close\">关闭</el-button>\r\n      </div>\r\n      <div class=\"reply\" v-for=\"( item,index ) in rely\" :key=\"item.id\">\r\n        <div class=\"head\">\r\n          <img :src=\"item.author.avatar_url\" alt=\"\" style=\"\" />\r\n        </div>\r\n        <div class=\"name\">{{ item.author.loginname }}<span class=\"floor\" style=\"margin-left:10px;color: blue;\">{{(index+1)}}楼</span><span> - </span><span style=\"margin-left:5px;color: blue;\">{{item.create_at}}</span><span class=\"reply_comment\" @click=\"relyComment\">回复评论</span>\r\n          <div class=\"up\"><span @click=\"uptopic(item.id)\" class=\"iconfont icon-dianzan1\"></span><span>{{item.ups.length}}</span></div>\r\n        </div>\r\n        \r\n        <div class=\"content\" v-html=\"item.content\">\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport HeaderTop from \"../components/HeaderTop.vue\";\r\nexport default {\r\n  components: { HeaderTop },\r\n  data() {\r\n    return {\r\n      info: null,\r\n      date: null,\r\n      rely: [],\r\n      Comment: false,\r\n      comtext: '',\r\n      relyComment1: false,\r\n      isCollect:false,\r\n    };\r\n  },\r\n  async created() {\r\n    const res = await this.$http({\r\n      method:'get',\r\n      url:`/topic/${this.$route.params.topicId}?accesstoken=${sessionStorage.getItem('token')}`,\r\n    });\r\n    this.info = res.data;\r\n    console.log(this.info)\r\n    this.rely = res.data.replies\r\n    this.isCollect = this.info.is_collect\r\n    this.date = this.$moment(`${res.data.create_at}`, \"YYYYMMDD\").fromNow();\r\n    this.rely.forEach(ele => {\r\n      ele.create_at= this.$moment(`${ele.create_at}`, \"YYYYMMDD\").fromNow();\r\n    });\r\n  },\r\n  computed:{\r\n    getCollect(){\r\n      console.log(this.isCollect)\r\n      return this.isCollect\r\n    }\r\n  },\r\n  methods: {\r\n   async handlercollect(){\r\n    this.isCollect= !this.isCollect\r\n      const res = await this.$http({\r\n        method:'post',\r\n        url:'/topic_collect/collect',\r\n        data:{\r\n          accesstoken:sessionStorage.getItem('token'),\r\n          topic_id:this.info.id\r\n        }\r\n      })\r\n      console.log(res)\r\n    },\r\n    async Uncollect(){\r\n      this.isCollect= !this.isCollect\r\n      const res = await this.$http({\r\n        method:'post',\r\n        url:'/topic_collect/de_collect',\r\n        data:{\r\n          accesstoken:sessionStorage.getItem('token'),\r\n          topic_id:this.info.id\r\n        }\r\n      })\r\n      console.log(res)\r\n    },\r\n    showComment() {\r\n      this.Comment = true\r\n      this.relyComment1 = false\r\n    },\r\n    relyComment() {\r\n      this.Comment = true\r\n      this.relyComment1 = true\r\n    },\r\n    successComment() {\r\n        this.rely.push({\r\n          author: {\r\n            avatar_url:\"https://avatars.githubusercontent.com/u/51047556?v=4&s=120\",\r\n            loginname: \"caobowen1224\"\r\n          },\r\n          content: \"<div class=\\\"markdown-text\\\"><p>\"+this.comtext+\"</p>\\n</div>\",\r\n          create_at:this.$moment(`${ this.$moment().format(\"YYYY-MM-DD HH:mm:ss\")}`, \"YYYYMMDD\").fromNow(),\r\n          is_uped: false,\r\n          reply_id: null,\r\n          ups: Array(0)\r\n        })\r\n      this.$http({\r\n        method: 'POST',//添加\r\n        url: `/topic/${this.info.id}/replies`,\r\n        data: {\r\n          accesstoken: sessionStorage.getItem('token'),\r\n          content: this.comtext,\r\n        }\r\n      }).then(Response => {\r\n        sessionStorage.setItem('reply_id', Response.reply_id)\r\n        \r\n       \r\n      })\r\n      this.Comment = false\r\n      this.comtext = ''\r\n    }\r\n    ,\r\n    close() {\r\n      this.Comment = false\r\n      this.comtext = ''\r\n    },\r\n    rely_comment() {\r\n      this.rely.push({\r\n          author: {\r\n            avatar_url:\"https://avatars.githubusercontent.com/u/51047556?v=4&s=120\",\r\n            loginname: \"caobowen1224\"\r\n          },\r\n          content: \"<div class=\\\"markdown-text\\\"><p>\"+this.comtext+\"</p>\\n</div>\",\r\n          create_at: this.$moment().format(\"YYYY-MM-DD HH:mm:ss\"),\r\n          is_uped: false,\r\n          reply_id: null,\r\n          ups: Array(0)\r\n        })\r\n      this.$http({\r\n        method: 'POST',//添加\r\n        url: `/topic/${this.info.id}/replies`,\r\n        data: {\r\n          accesstoken: sessionStorage.getItem('token'),\r\n          content: `回复:${this.info.replies[0].author.loginname}:` + this.comtext,\r\n          reply_id: sessionStorage.getItem('reply_id').toString()\r\n        }\r\n      }).then(Response => {\r\n        console.log(Response)\r\n      })\r\n      this.Comment = false\r\n      this.comtext = ''\r\n    },\r\n    uptopic(id){\r\n      let token = sessionStorage.getItem('token')\r\n      this.$http({\r\n        method:'post',\r\n        url:`/reply/${id}/ups`,\r\n        data:{\r\n          accesstoken:token\r\n        }\r\n      }).then(res => {\r\n\r\n        sessionStorage.setItem('newRes',res.action)\r\n      })  \r\n      let newRes = sessionStorage.getItem('newRes')\r\n      if(newRes == 'down'){\r\n        this.rely.find((ele) => {\r\n      return  ele.id===id\r\n      }).ups.push(`${token}`)\r\n      }else{\r\n        this.rely.find((ele) => {\r\n      return  ele.id===id\r\n      }).ups.splice(0,1)\r\n      }\r\n    \r\n  },\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n* {\r\n  text-decoration: none;\r\n}\r\n\r\n.article {\r\n  width: 1100px;\r\n  margin: 0 auto;\r\n  padding: 10px;\r\n  padding-right: 300px;\r\n  margin-top: 10px;\r\n  background-color: #fff;\r\n  box-sizing: border-box;\r\n  border-radius: 5px 5px 0px 0px;\r\n  text-align: left;\r\n}\r\n\r\n.article .title {\r\n  font-size: 22px;\r\n  font-weight: 700;\r\n  margin: 8px 0;\r\n  display: inline-block;\r\n  vertical-align: bottom;\r\n  width: 75%;\r\n  line-height: 130%;\r\n}\r\n\r\n.article .change {\r\n  padding-bottom: 10px;\r\n}\r\n\r\n.article .change span {\r\n  font-size: 12px;\r\n  color: #838383;\r\n  margin-right: 10px;\r\n}\r\n\r\n.article .change span::before {\r\n  content: \"\";\r\n  display: inline-block;\r\n  width: 5px;\r\n  height: 5px;\r\n  background-color: #838383;\r\n  border-radius: 50%;\r\n  vertical-align: middle;\r\n  margin-right: 5px;\r\n}\r\n\r\n.markdown-text> :first-child,\r\n.preview> :first-child {\r\n  font-size: 26px;\r\n  line-height: 40px;\r\n  border-bottom: 1px solid #eee;\r\n}\r\n\r\n.preview p,\r\n.reply_content p,\r\n.reply_form p,\r\n.topic_content p {\r\n  font-size: 15px;\r\n  line-height: 1.7em;\r\n  overflow: auto;\r\n  margin: 15px 0px;\r\n}\r\n\r\n.markdown-text p,\r\n.preview p {\r\n  white-space: pre-wrap;\r\n  word-wrap: break-word;\r\n  margin: 15px 0px;\r\n}\r\n\r\n.markdown-text p code {\r\n  color: #000;\r\n  background-color: #fcfafa;\r\n  padding: 4px 6px;\r\n}\r\n\r\np a {\r\n  color: #08c;\r\n}\r\n\r\nblockquote {\r\n  padding: 0 0 0 15px;\r\n  margin: 0 0 20px;\r\n  border-left: 5px solid #eee;\r\n}\r\n\r\n.panel .markdown-text a {\r\n  color: #08c;\r\n}\r\n\r\nh2 {\r\n  font-size: 26px;\r\n  line-height: 40px;\r\n  margin: 30px 0 15px;\r\n  border-bottom: 1px solid #eee;\r\n}\r\n\r\ndiv pre.prettyprint {\r\n  font-size: 14px;\r\n  border-radius: 0;\r\n  padding: 0 15px;\r\n  border: none;\r\n  margin: 20px -10px;\r\n  border-width: 1px 0;\r\n  background: #f7f7f7;\r\n  -o-tab-size: 4;\r\n  -moz-tab-size: 4;\r\n  tab-size: 4;\r\n  line-height: 22px;\r\n  margin-left: 5px;\r\n}\r\n\r\nimg {\r\n  width: auto\\9;\r\n  height: auto;\r\n  max-width: 100%;\r\n  vertical-align: middle;\r\n  border: 0;\r\n}\r\n\r\n.article ul {\r\n  padding: 0;\r\n  margin: 10px 0 10px 25px;\r\n  font-size: 14px;\r\n  line-height: 30px;\r\n}\r\n\r\n.article ul li::before {\r\n  content: \"\";\r\n  display: inline-block;\r\n  width: 5px;\r\n  height: 5px;\r\n  background-color: #838383;\r\n  border-radius: 50%;\r\n  vertical-align: middle;\r\n  margin-right: 5px;\r\n}\r\n\r\n.article a {\r\n  color: #08c;\r\n}\r\n\r\n.panel {\r\n  margin-bottom: 13px;\r\n  width: 1100px;\r\n  margin: 0 auto;\r\n  padding: 10px;\r\n  padding-right: 300px;\r\n  margin-top: 10px;\r\n  background-color: #fff;\r\n  box-sizing: border-box;\r\n  border-radius: 5px 5px 0px 0px;\r\n  text-align: left;\r\n}\r\n\r\n.reply {\r\n  background-color: #f4fcf0;\r\n  padding-right: 10px;\r\n  background: #fff;\r\n  border-top: 1px solid #f0f0f0;\r\n  position: relative;\r\n  padding: 10px 0 10px 10px;\r\n  font-size: 14px;\r\n}\r\n\r\n.head {\r\n  display: inline-block;\r\n}\r\n\r\n.head img {\r\n  width: 30px;\r\n  height: 30px;\r\n  border-radius: 3px;\r\n\r\n}\r\n\r\n.reply .name {\r\n  color: #666;\r\n  font-size: 12px;\r\n  display: inline-block;\r\n}\r\n\r\n.reply .content p {\r\n  font-size: 15px;\r\n  line-height: 1.7em;\r\n  overflow: auto;\r\n}\r\n\r\n.comment {\r\n  margin-left: 600px;\r\n  cursor: pointer;\r\n  color: saddlebrown;\r\n  transition: all 1s;\r\n}\r\n\r\n.comment:hover {\r\n  color: #ccc;\r\n}\r\n\r\n.showComment {\r\n  width: 500px;\r\n  padding: 20px;\r\n  background-color: #f4fcf0;\r\n  margin: 0 auto;\r\n  position: absolute;\r\n  top: 35%;\r\n  left: 25%;\r\n  z-index: 888;\r\n}\r\n\r\n.showComment input {\r\n  width: 300px;\r\n  line-height: 40px;\r\n  outline: none;\r\n  border: none;\r\n  height: 40px;\r\n  font-size: 20px;\r\n}\r\n\r\n.showComment button {\r\n  margin-left: 10px;\r\n}\r\n\r\n.reply_comment {\r\n  margin-left: 50px;\r\n  cursor: pointer;\r\n}\r\n.reply .up {\r\n display: inline-block;\r\n margin-left: 50px;\r\n}\r\n.up span{\r\n  width: 20px;\r\n  padding-top: 20px;\r\n  display: inline-block;\r\n  cursor: pointer;\r\n}\r\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./DetailsView.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./DetailsView.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DetailsView.vue?vue&type=template&id=6a36f3e9&\"\nimport script from \"./DetailsView.vue?vue&type=script&lang=js&\"\nexport * from \"./DetailsView.vue?vue&type=script&lang=js&\"\nimport style0 from \"./DetailsView.vue?vue&type=style&index=0&id=6a36f3e9&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","_m","attrs","_v","on","show","_s","getcount","directives","name","rawName","value","token","expression","loginname","avatar_url","back","staticRenderFns","data","methods","sessionStorage","computed","created","component","info","domProps","title","date","author","visit_count","tab","isCollect","Uncollect","handlercollect","content","_e","rely","length","showComment","Comment","comtext","$event","target","composing","relyComment1","rely_comment","successComment","close","_l","item","index","key","id","staticStyle","create_at","relyComment","uptopic","ups","components","HeaderTop","method","url","console","ele","getCollect","accesstoken","topic_id","is_uped","reply_id"],"sourceRoot":""}